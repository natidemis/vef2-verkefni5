{"version":3,"sources":["components/layout/Layout.jsx","components/news/News.jsx","components/news-list/NewsList.jsx","pages/Index.jsx","pages/News.jsx","pages/NotFound.jsx","App.js","index.js"],"names":["Layout","News","href","apiUrl","process","id","limit","back","useState","loading","setLoading","error","setError","data","setData","useEffect","a","url","fetch","result","console","log","ok","Error","newsData","json","getData","news","items","title","length","map","i","link","NewsList","Index","NewsPage","useParams","NotFound","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.140bf39f.chunk.js","sourcesContent":["\n\n\nexport function Layout({ News }) {\n  return (\n    <div>\n      <header>\n          <h1><strong>RÚV fréttir</strong></h1>\n      </header>\n      <main>\n        {News}\n      </main>\n      <hr/>\n      <p>Fréttir frá <a href=\"https://www.ruv.is/\">RÚV</a>.</p>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport fetch from 'node-fetch';\nconst apiUrl = process.env.REACT_APP_API_URL;\n\n\nexport function News({id, limit = 20, back = false }) {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null);\n\n  useEffect(()=>{\n    async function getData() {\n      setLoading(true);\n      const url = `${apiUrl}/${id}`;\n      let newsData;\n      try {\n        const result = await fetch(url);\n        console.log(\"/news\");\n        if(!result.ok){\n          throw new Error(\"náði ekki að sækja gogn\");\n        }\n        newsData = result.json();\n      }catch(e) {\n        setError('Gat eki sótt gögn');\n        return;\n      }finally{\n        setLoading(false);\n      }\n      setData(newsData);\n    }\n    getData();\n  },[id]);\n  if(error) {\n    return (\n      <p>{error}</p>\n    );\n  }\n  if(loading) {\n    return (\n      <p>Er að sækja gögn..</p>\n    );\n  }\n  let news = [];\n  if(data && data.items) {\n    news = data.items;\n  }\n  let title = '';\n  if(data && data.title) {\n    title = data.title;\n  }\n  \n  return (\n    <div>\n      <h2>{title}</h2>\n      <ul>\n        {news.length > 0 && news.map((result,i)=>{\n          if(i < limit) {\n            return (\n              <li key={i}>\n                <a href={result.link}>{result.title}</a>\n              </li>\n            );\n          }\n          return (\n            false\n          );\n        })}\n      </ul>\n    </div>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport {News} from '../news/News';\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nexport function NewsList() {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null);\n  useEffect(()=>{\n    async function getData() {\n      setLoading(true);\n      setError(null);\n      let newsData;\n      try {\n        const result = await fetch(apiUrl);\n        console.log(\"newsList\");\n        if(!result.ok){\n          throw new Error('gekk ekki að sækja gogn');\n        }\n        newsData = result.json();\n      }catch(e) {\n        setError('Gat að sækja gögn');\n        return;\n      }finally {\n        setLoading(false);\n      }\n     setData(newsData);\n    }\n    getData();\n  },[]);\n  if(error) {\n    return (\n      <p>{error}</p>\n    );\n  }\n  if(loading) {\n    return (\n      <p>Er að sækja gögn..</p>\n      );\n  }\n  console.log(data);\n  const news = data || [];\n  return (\n      <section>\n        {news.length > 0 && news.map((result,i) => {\n          return (\n            <div key={i}>\n              <News \n                id={result.id} \n                limit={5}\n              />\n            </div>\n          );\n        })}\n      </section>\n  );\n}\n","import {NewsList} from '../components/news-list/NewsList';\n\nexport function Index() {\n  return (\n    <NewsList/>\n  );\n}\n","  \nimport { News } from '../components/news/News';\nimport { useParams } from 'react-router-dom';\n\nexport function NewsPage() {\n  const { id } = useParams();\n  return (\n    <News id={id} back={true} />\n  );\n}","import React from 'react';\n\nexport function NotFound() {\n  return (\n    <div>\n      <p>404 síða fannst ekki</p>\n    </div>\n  );\n}","// TODO sækja og setja upp react router\n\nimport { Layout } from './components/layout/Layout';\nimport {Route, Switch, BrowserRouter} from 'react-router-dom';\nimport { Index } from './pages/Index';\nimport { NewsPage } from './pages/News';\nimport { NotFound } from './pages/NotFound';\n\nexport default function App() {\n  return (\n    <Layout>\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Index} />\n          <Route exact path=\"/:id\" component={NewsPage} />\n          <Route component={NotFound} />\n        </Switch>\n      </BrowserRouter>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './index.css';\n\n// TODO setja upp router\n\nReactDOM.render(\n  <React.StrictMode>\n\n      <App />\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}